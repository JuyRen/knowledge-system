## JavaScript 如何存储小数

> JavaScript 中所有数字包括整数和小数都只有一种类型 — Number

1. 使用 64 位固定长度来表示，标准的 double 双精度浮点数

   - 符号位： 第一位，表示正负数，`0正数，1负数`
   - 指数位: 中间 11 位，用来表示`次方`
   - 尾数位: 64-11-1=52, 超过的部位自动`进一舍零`

2. 0.1 + 0.2 出现浮点误差原因: 0.1 转成二进制 `0.0001100110011001100(1100循环)`， 经过公式转为十进制`0.100000000000000005551115123126`

3. 为什么 x = 0.1 得到 0.1
4. 2^53 对应科学计数法的尾数长度， 为`16`
5. 使用 toPrecision(16)做精度运算，超过的精度会自动凑整

## 解决

1. 将数字精度设为 12 (`可以解决大部分问题`) `parseFloat(Num.toPrecision(12))`
2. 将数字变成正数(取数字的最大倍数，全部转为整数) `此时 * 100000.. 可能会超过js最大数`
3. 将数字变成字符串模拟运算
